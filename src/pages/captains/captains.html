<!--
  Generated template for the CaptainsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>

    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-title> {{ 'CAPTAINS' | translate }}</ion-title>
    <ion-buttons end class="btn-style">
        <button ion-button (click)="openMap()">
          <ion-icon name="map"></ion-icon>
        </button>
      </ion-buttons>
    <ion-buttons end class="btn-style" *ngIf="userType == 'admin'">
      <button ion-button (click)="add()">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content class="auth-page-captain">

    <div text-center *ngIf="captainsList.length == 0">
        <ion-grid>
          <ion-row>
            <ion-col>
              <img src="../../assets/img/sad.png" class="not-found-img">
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
    
              <h3 class="not-found-text"> {{ 'EMPTY_LIST' | translate }}</h3>
            </ion-col>
          </ion-row>
        </ion-grid>
    
      </div>



  <ion-list style="padding-top: 15px;">


      <ion-item class="item-background" *ngFor="let captain of captainsList">
        <ion-grid>
          <ion-row >
            <ion-col  class="img-col" col-3>
              <img class="circle-pic" *ngIf="!captain.image"src="../../assets/img/person.png"
              />
              <img class="circle-pic" *ngIf="captain.image" [src]="['data:image/jpg;base64',captain.image]" />
            </ion-col>

            <ion-col  class="btn-col" col-9 (click)="captainDetails(captain)">

              <div class="account-info info-div">
                <p>
                  <strong text-wrap> {{captain.name}} </strong>
                </p>

                <p>
                  {{'CODE' | translate}} : <strong text-wrap>{{captain.code}}</strong> 
                </p>

              </div>
            </ion-col>
          </ion-row>

        <ion-row *ngIf="userType == 'admin'">
            <ion-col col-6>
                <ion-buttons end class="btn-style" style="width: 100%; padding: 0px;">
                    <button ion-button (click)="openEvaluation(captain)" style="width: 100%; padding: 0px;">
                      {{ 'EDIT_EVALUATION' | translate }}
                    </button>
                  </ion-buttons> 
            </ion-col>
            <ion-col col-6>
              <ion-buttons class="btn-style" style="width: 100%; padding: 0px;">
                <button ion-button (click)="viewAssignDetails(captain)" style="width: 100%;padding: 0px;">
                  {{ 'VIEW_ASSIGN_DETAILS' | translate }}
                </button>
              </ion-buttons>
  
            </ion-col>
          </ion-row>
        </ion-grid>


      </ion-item>



  </ion-list>
  <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="captainsList.length != 0">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      [loadingText]="moreData">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
 




</ion-content>