<!--
  Generated template for the AgencyCaptainsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle *ngIf="agency == null || agency == undefined">
      <ion-icon name="menu"></ion-icon>
    </button>



    <ion-grid style="width: 100%">
      <ion-row>
        <ion-col col-1 style="max-width: 25px;" (click)="back()" *ngIf="agency != null && agency != undefined">
          <ion-buttons style="margin-block-start: 2px" class="btn-style">
            <button ion-button >
              <ion-icon [name]="language != 'en' ? 'arrow-round-forward' : 'arrow-round-back'"></ion-icon>
            </button>
          </ion-buttons>
        </ion-col>
        <ion-col col-11 [style.margin-top]="agency != null && agency != undefined  && language == 'en' ? '10px' : '7px'">
          <ion-title *ngIf="agency != null" [style.margin-top]="!isCordova && language != 'en' ? '2px' : '0px'">{{ 'AGENCY_CAPTAINS' | translate }}</ion-title>
          <ion-title *ngIf="agency == null">{{ 'YOUR_CAPTAINS' | translate }}</ion-title>
        </ion-col>
      </ion-row>
    </ion-grid>






    <ion-buttons end class="btn-style" *ngIf="agency == null">
      <button class="myButton" style="box-shadow: 0px 0px 0px 0px #9fb4f2;text-shadow: 0px 0px 0px #283966;border: 0px solid #263973;" ion-button (click)="add()" >
          {{ 'ADD' | translate }}
      </button>
    </ion-buttons>

  </ion-navbar>

</ion-header>


<ion-content class="auth-page-captain">

  <div text-center *ngIf="captainsList.length == 0">
    <ion-grid>
      <ion-row>
        <ion-col>
          <img src="../../assets/img/sad.png" class="not-found-img">
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>

          <h3 class="not-found-text"> {{ 'HAVE_NOT_CAPTAINS' | translate }}</h3>
        </ion-col>
      </ion-row>
    </ion-grid>

  </div>


  <ion-list style="padding-top: 15px;">


    <ion-item class="item-background" *ngFor="let captain of captainsList">
      <ion-grid>
        <ion-row>
          <ion-col class="img-col" col-3>
            <img class="circle-pic" *ngIf="!captain.image" src="../../assets/img/person.png" />
            <img class="circle-pic" *ngIf="captain.image" [src]="['data:image/jpg;base64',captain.image]" />
          </ion-col>

          <ion-col class="btn-col" col-9 (click)="captainDetails(captain)">

            <div class="account-info info-div">
              <p>
                  {{'NAME' | translate}} :
                <strong text-wrap> {{captain.name}} </strong>
              </p>

              <p>
                {{'CODE' | translate}} :
                <strong text-wrap>{{captain.code}}</strong>
              </p>

              <p *ngIf="captain.unAssignDetails == 'This Captain is unAssigned because the Admin is unassign him'">
                {{'STATUS' | translate}} :
                <strong text-wrap>{{'UN_ASSIGNED_FROM_TOMMROW' | translate}}</strong>
              </p>

            </div>
          </ion-col>
        </ion-row>


        <ion-row *ngIf="captain.unAssignDetails == undefined || captain.unAssignDetails == null || captain.unAssignDetails == ''">
          <ion-col col-12>
            <ion-buttons class="btn-style" style="width: 100%;padding: 0px;">
              <button ion-button class="myButton" (click)="unAssingCaptain(captain)" style="width: 100%;padding: 0px;">
                {{ 'UN_ASSIGN_CAPTAIN' | translate }}
              </button>
            </ion-buttons>

          </ion-col>
          <!-- <ion-col col-6>
            <ion-buttons class="btn-style" style="width: 100%; padding: 0px;">
              <button ion-button (click)="assignDetails(captain)" style="width: 100%;padding: 0px;">
                {{ 'VIEW_ASSIGN_DETAILS' | translate }}
              </button>
            </ion-buttons>

          </ion-col> -->
        </ion-row>
      </ion-grid>

    </ion-item>



  </ion-list>

  <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="captainsList.length != 0">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      [loadingText]="moreData">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>




</ion-content>